"use strict";(self["webpackChunkbmi_hw"]=self["webpackChunkbmi_hw"]||[]).push([[685],{6804:function(t,e,n){n.d(e,{Z:function(){return u}});var a=n(3396),o=n(7139);const d=(0,a.Uk)("首页");function i(t,e,n,i,l,r){const m=(0,a.up)("el-breadcrumb-item"),u=(0,a.up)("el-breadcrumb");return(0,a.wg)(),(0,a.j4)(u,{separator:">"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{to:{path:"/"}},{default:(0,a.w5)((()=>[d])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.breadList,((t,e)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[t.name?((0,a.wg)(),(0,a.j4)(m,{key:e,to:t.path},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.name),1)])),_:2},1032,["to"])):(0,a.kq)("",!0)],64)))),256))])),_:1})}var l={data(){return{breadList:[]}},methods:{getMatched(){this.breadList=this.$route.matched}},created(){this.getMatched()},watch:{$route(){this.breadList=this.$route.matched}}},r=n(89);const m=(0,r.Z)(l,[["render",i],["__scopeId","data-v-1a755c60"]]);var u=m},1685:function(t,e,n){n.r(e),n.d(e,{default:function(){return C}});var a=n(3396),o=n(7139);const d=t=>((0,a.dD)("data-v-4ccd44cf"),t=t(),(0,a.Cn)(),t),i={m:"4",class:"_detail"},l={m:"t-0 b-2"},r={m:"t-0 b-2"},m={m:"t-0 b-2"},u={m:"t-0 b-2"},s=(0,a.Uk)(" 评论被封禁 "),h=(0,a.Uk)(" 用户被禁言 "),c=d((()=>(0,a._)("h3",null,"用户历史消息",-1))),_=(0,a.Uk)("封禁"),b=(0,a.Uk)("禁言"),p={class:"txt_num"};function f(t,e,n,d,f,w){const k=(0,a.up)("Breadcrumb"),y=(0,a.up)("el-header"),W=(0,a.up)("el-divider"),g=(0,a.up)("el-radio-button"),C=(0,a.up)("el-radio-group"),v=(0,a.up)("el-col"),I=(0,a.up)("el-tag"),j=(0,a.up)("el-table-column"),x=(0,a.up)("el-button"),z=(0,a.up)("el-table"),U=(0,a.up)("el-main"),D=(0,a.up)("el-container");return(0,a.wg)(),(0,a.j4)(D,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k)])),_:1}),(0,a.Wm)(W),(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v,{span:9,offser:1},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{modelValue:f.t_type,"onUpdate:modelValue":e[0]||(e[0]=t=>f.t_type=t),onChange:w.handleradiochange,size:"large",class:"mytest3"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{label:"all"},{default:(0,a.w5)((()=>[(0,a.Uk)("全部评论("+(0,o.zw)(f.all_num)+")",1)])),_:1}),(0,a.Wm)(g,{label:"ed"},{default:(0,a.w5)((()=>[(0,a.Uk)("未封禁评论("+(0,o.zw)(f.to_num)+")",1)])),_:1}),(0,a.Wm)(g,{label:"to"},{default:(0,a.w5)((()=>[(0,a.Uk)("已封禁评论("+(0,o.zw)(f.ed_num)+")",1)])),_:1})])),_:1},8,["modelValue","onChange"])])),_:1}),(0,a.Wm)(v,{span:14}),(0,a.Wm)(z,{data:f.tableData,border:"",style:{width:"95%"},class:"table"},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{class:"divider_solid"}),(0,a.Wm)(j,{type:"expand"},{default:(0,a.w5)((t=>[(0,a._)("div",i,[(0,a._)("p",l,"评论者姓名: "+(0,o.zw)(t.row.name),1),(0,a._)("p",r,"评论日期: "+(0,o.zw)(t.row.date),1),(0,a._)("p",m,"评论时间: "+(0,o.zw)(t.row.time),1),(0,a._)("p",u,"评论内容: "+(0,o.zw)(t.row.content),1),1==t.row.is_comment_forbidden?((0,a.wg)(),(0,a.j4)(I,{key:0,type:"success",effect:"dark",round:""},{default:(0,a.w5)((()=>[s])),_:1})):(0,a.kq)("",!0),1==t.row.is_author_forbidden?((0,a.wg)(),(0,a.j4)(I,{key:1,type:"success",effect:"dark",round:""},{default:(0,a.w5)((()=>[h])),_:1})):(0,a.kq)("",!0),c,(0,a.Wm)(z,{data:t.row.history,border:"",class:"table"},{default:(0,a.w5)((()=>[(0,a.Wm)(j,{label:"评论日期",prop:"date"}),(0,a.Wm)(j,{label:"评论时间",prop:"time"}),(0,a.Wm)(j,{label:"评论Id",prop:"id"}),(0,a.Wm)(j,{label:"评论内容",prop:"content"}),(0,a.Wm)(j,{label:"操作"},{default:(0,a.w5)((t=>[(0,a.Wm)(x,{type:"danger",onClick:e=>w.block_btn(t)},{default:(0,a.w5)((()=>[_])),_:2},1032,["onClick"])])),_:1})])),_:2},1032,["data"])])])),_:1}),(0,a.Wm)(j,{label:"评论日期",prop:"date"}),(0,a.Wm)(j,{label:"评论者姓名",prop:"name"}),(0,a.Wm)(j,{label:"评论者Id",prop:"author_id"}),(0,a.Wm)(j,{label:"评论内容",prop:"content"}),(0,a.Wm)(j,{label:"操作"},{default:(0,a.w5)((t=>[(0,a.Wm)(x,{type:"danger",onClick:e=>w.forbid_btn(t)},{default:(0,a.w5)((()=>[b])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,a._)("div",p,"共有"+(0,o.zw)(f.show_num)+"条评论",1)])),_:1})])),_:1})}var w=n(4870),k=n(6804),y={name:"TxtTag",components:{Breadcrumb:k.Z},data(){return{all_num:2,ed_num:2,to_num:0,show_num:2,t_type:(0,w.iH)("all"),CommentInfo:{},AuthorInfo:{},context:(0,w.qj)({commemt1:{date:"2016-05-03",name:"berber",id:"00001",author_id:"1",time:"00:12:46",content:"我爱berber老师",history:[{date:"2016-05-03",time:"00:12:46",content:"我爱berber老师",id:"00001"},{date:"2016-05-02",time:"14:12:46",content:"我bu爱berber老师",id:"00002"}]},commemt2:{date:"2016-05-04",name:"昂仔",time:"00:12:16",author_id:"2",id:"20001",content:"我*********",history:[{date:"2016-05-04",time:"00:12:16",content:"我*********",id:"20001"},{date:"2016-05-02",time:"14:26:57",content:"我太强了！",id:"20002"}]}}),tableData:[],name:""}},created(){this.getComments()},methods:{handleradiochange(){console.log(this.t_type);let t=this.t_type;if(this.tableData=[],"all"==t){this.show_num=this.all_num;for(let t in this.context)this.tableData.push(t)}else if("ed"==t){this.show_num=this.ed_num;for(let t in this.context)(t["is_author_forbidden"]||t["is_comment_item"])&&this.tableData.push(t)}else{this.show_num=this.to_num;for(let t in this.context)t["is_author_forbidden"]||t["is_comment_item"]||this.tableData.push(t)}},block_btn(t){let e=t.row["id"],n={id:e};return fetch("/api/comment/forbidden",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((t=>t.json())).then((()=>{this.$router.push("/index/community/blank")}))},forbid_btn(t){let e=t.row["author_id"],n={id:e};return fetch("/api/comment/forbidden/author",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((t=>t.json())).then((()=>{this.$router.push("/index/community/blank")}))},getComments(){this.ed_num=0,this.to_num=0,this.all_num=0;let t=this;return fetch("/api/comment/getall").then((e=>e.json().then((e=>{t.CommentInfo=e.CommentInfo,t.AuthorInfo=e.AuthorInfo;for(let n in t.CommentInfo){let e=n["author"],a="",o=!1,d=!1,i=[],l=[];n["is_forbidden"]&&(d=!0);for(let n in t.AuthorInfo)n["id"]==e&&(a=n["name"],n["is_forbidden"]&&(o=!0),l=n["comments"]);for(let n in t.CommentInfo)if(n["id"]in l){let t={date:n["date"],time:n["time"],content:n["content"],id:n["id"]};i.push(t)}let r={date:n["date"],name:a,time:n["time"],author_id:n["author"],id:n["id"],content:n["content"],is_author_forbidden:o,is_comment_forbidden:d,history:i};this.context.push(r),this.all_num+=1,o||d?this.ed_num+=1:this.to_num+=1}t.t_type="all",t.handleradiochange()}))))}}},W=n(89);const g=(0,W.Z)(y,[["render",f],["__scopeId","data-v-4ccd44cf"]]);var C=g}}]);
//# sourceMappingURL=685.19225279.js.map